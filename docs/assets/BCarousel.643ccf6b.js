import{S as H}from"./BSectionFeed.c8cdab4e.js";import{B as x}from"./BNaviButtons.0a82182d.js";import{B as A}from"./BTitle.f2aa7fb9.js";import{_ as y,r as v,i as N,b as f,o as s,c as i,a as l,d as B,I as P,e as S,Y as m,F as k,V as p,n as g,X as h,W as V,w as D}from"./index.fcade5f2.js";import{B as L}from"./BSignature.1910fb55.js";import{B as M}from"./BRating.e0ff56a6.js";import{a as T}from"./BShare.a8fdaa21.js";import{Q as E}from"./QBtn.26e56c48.js";import{C as I}from"./ClosePopup.3ff64172.js";const R={name:"BSectionPhotos",components:{BTitle:A,BNaviButtons:x},props:{cls:{type:String},title:{type:String},title_link_url:{type:String},title_link_text:{type:String}},setup(){const r=v();let t,e=v(!0),n=v(!1);const c=_=>t[_.target.className.includes("prev")?"slidePrev":"slideNext"]();return N(()=>{t=new H(r.value,{on:{slideChange:_=>{e.value=_.isBeginning,n.value=_.isEnd}},breakpoints:{0:{spaceBetween:12,slidesPerView:1.2},480:{spaceBetween:14,slidesPerView:1.7},640:{spaceBetween:14,slidesPerView:2},780:{spaceBetween:16,slidesPerView:3},1100:{spaceBetween:16,slidesPerView:4},1280:{spaceBetween:24,slidesPerView:4}}})}),{swiperRef:r,naviHandler:c,prevDisabled:e,nextDisabled:n}}},j={class:"photos"},F={class:"photos__inner container"},O={class:"photos__slider swiper",ref:"swiperRef"},Q={class:"swiper-wrapper"};function U(r,t,e,n,c,_){const u=f("b-title"),a=f("b-navi-buttons");return s(),i("section",j,[l("div",F,[B(u,{cls:"photos__title",title:e.title},null,8,["title"]),l("div",O,[l("div",Q,[P(r.$slots,"slides")]),B(a,{cls:"photos__navigation",onClickNavi:n.naviHandler,prev:n.prevDisabled,next:n.nextDisabled},null,8,["onClickNavi","prev","next"])],512)])])}var Pe=y(R,[["render",U]]);const $={name:"BBar",emits:["click","buttonClick"],components:{BShare:T},props:{cls:String,panel:Boolean,showed:Boolean,opened:Boolean,disabled:Boolean,buttons:Array,share:Array},setup(r){var e;return{barButtons:v((e=r.buttons)==null?void 0:e.slice(0,2))}}},z={class:"bar__buttons"},W=["href"],X=["onClick","disabled"];function Y(r,t,e,n,c,_){const u=f("b-share");return s(),i("div",{class:g(["bar",e.cls,{bar_panel:e.panel,showed:e.showed,opened:e.opened}])},[e.panel?(s(),i("button",{key:0,class:"bar__toggle",onClick:t[0]||(t[0]=S(a=>r.$emit("click"),["prevent"]))})):m("",!0),l("div",z,[(s(!0),i(k,null,p(n.barButtons,(a,d)=>(s(),i(k,{key:d},[a.link?(s(),i("a",{key:0,class:g(["bar__button button",a.cls]),href:a.link},h(a.title),11,W)):(s(),i("button",{key:1,class:g(["bar__button button",a.cls,a.mod&&`bar__button_${a.mod}`]),onClick:S(o=>r.$emit("buttonClick",d),["prevent"]),disabled:e.disabled},h(a.title),11,X))],64))),128))]),e.share?(s(),V(u,{key:1,cls:"bar__share",links:e.share},null,8,["links"])):m("",!0)],2)}var q=y($,[["render",Y]]);const G={name:"BSectionIntro",components:{BRating:M,BBar:q,BSignature:L},emits:["barButtonClick"],props:{title:String,imageUrl:String,info:Object,avatar:Object,bottom:Array,text:String,price:[String,Number],labels:Array,barButtons:Array,share:Array},setup(r,{slots:t}){const e=v(null),n=v(null),c=v(!1),_=v(!1),u=a=>!!t[a];return N(()=>{const a=d=>{var b;const o=(b=d.value)==null?void 0:b.$el;c.value=o&&o.getBoundingClientRect().bottom<0};window.addEventListener("scroll",()=>a(e)),a(e),["click","touchstart"].forEach(d=>{document.addEventListener(d,o=>{var w,C;const b=o.target.closest(`.${(C=(w=n.value)==null?void 0:w.$el)==null?void 0:C.className.split(" ")[0]}`);_.value&&!b&&(o.preventDefault(),_.value=!1)})},{passive:!1})}),{bar:e,panel:n,showed:c,opened:_,hasSlot:u}}},J={class:"intro"},K={class:"intro__inner container"},Z={class:"intro__side"},ee={key:0,class:"intro__tags"},te=["innerHTML"],ne={key:1,class:"intro__info"},se={class:"intro__rating"},ae={class:"intro__rating-count"},oe=["href"],ie=["innerHTML"],re={key:3,class:"intro__price"},le={class:"intro__image"},ce=["src"],_e={key:0,class:"intro__labels"},de={key:0,class:"intro__bottom container"},ue={class:"intro__b-inner"},ve=["href"];function be(r,t,e,n,c,_){const u=f("b-rating"),a=f("b-signature"),d=f("b-bar");return s(),i("div",J,[l("div",K,[l("div",Z,[n.hasSlot("tags")?(s(),i("div",ee,[P(r.$slots,"tags")])):m("",!0),l("h1",{class:"intro__title title",innerHTML:e.title},null,8,te),e.info?(s(),i("div",ne,[l("div",se,[B(u,{rate:e.info.rate,cls:"intro__rating-stars"},null,8,["rate"]),l("div",ae,"\u0420\u0435\u0439\u0442\u0438\u043D\u0433 "+h(e.info.rate),1)]),l("a",{class:"intro__address",href:e.info.address.href},h(e.info.address.text),9,oe)])):m("",!0),l("div",{class:"intro__text",innerHTML:e.text},null,8,ie),e.avatar?(s(),V(a,{key:2,cls:"intro__sign",url:e.avatar.link,img:e.avatar.img,text:e.avatar.name},null,8,["url","img","text"])):m("",!0),e.price?(s(),i("div",re,h(e.price),1)):m("",!0),B(d,{class:"intro__bar",buttons:e.barButtons,share:e.share,onButtonClick:t[0]||(t[0]=o=>r.$emit("barButtonClick",o)),ref:"bar"},null,8,["buttons","share"])]),l("div",le,[l("img",{src:e.imageUrl,alt:""},null,8,ce),e.labels?(s(),i("div",_e,[(s(!0),i(k,null,p(e.labels,(o,b)=>(s(),i("span",{class:"intro__label",key:b},h(o),1))),128))])):m("",!0)])]),e.bottom?(s(),i("div",de,[l("div",ue,[(s(!0),i(k,null,p(e.bottom,(o,b)=>(s(),i("div",{key:b,class:g(["intro__b-block",o.icon&&`intro__b-block_${o.icon}`])},[l("span",null,h(o.title),1),l("a",{href:o.href},h(o.link),9,ve)],2))),128))])])):m("",!0),B(d,{class:"intro__panel",opened:n.opened,showed:n.showed,buttons:e.barButtons,share:e.share,onButtonClick:t[1]||(t[1]=o=>r.$emit("barButtonClick",o)),onClick:t[2]||(t[2]=o=>n.opened=!n.opened),panel:"",ref:"panel"},null,8,["opened","showed","buttons","share"])])}var Ve=y(G,[["render",be]]);const me={name:"BCarousel",components:{BNaviButtons:x},props:{slides:Array,current:Number},setup(r){const t=v(r.current),e=(c=1)=>{t.value+=c,t.value<0?t.value=r.slides.length-1:t.value>=r.slides.length&&(t.value=0)};return{naviHandler:c=>{c.target.className.includes("prev")?e(-1):e()},active:t,move:e}}},he={class:"carousel"},fe=["src"];function Be(r,t,e,n,c,_){const u=f("b-navi-buttons");return s(),i("div",he,[D(B(E,{class:"carousel__close",icon:"close",flat:"",round:"",dense:""},null,512),[[I]]),(s(!0),i(k,null,p(e.slides,(a,d)=>(s(),i("img",{key:d,src:a,class:g({active:d==n.active}),onClick:t[0]||(t[0]=o=>n.move(1))},null,10,fe))),128)),B(u,{cls:"carousel__navigation",onClickNavi:n.naviHandler},null,8,["onClickNavi"])])}var He=y(me,[["render",Be]]);export{Ve as B,Pe as a,He as b};
